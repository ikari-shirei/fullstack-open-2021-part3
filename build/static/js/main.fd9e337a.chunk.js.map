{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/DeleteButton.js","components/Person.js","components/Persons.js","numberService.js","components/Notification.js","App.js","index.js"],"names":["Filter","onChange","PersonForm","addPerson","newName","newNumber","handleNewName","handleNewNumber","onSubmit","value","type","DeleteButton","name","onClick","id","Person","person","number","Persons","personsToShow","map","baseUrl","numberService","getAll","axios","get","then","response","data","create","newObject","post","update","put","deleteTarget","deletedObject","delete","Notification","message","messageContent","whichStyle","color","border","padding","style","App","useState","persons","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","newNotification","setNewNotification","getPersons","useEffect","createNotification","setTimeout","filter","toLowerCase","includes","event","target","preventDefault","isIncludePerson","every","clearFormData","isNewName","newPerson","createdPerson","catch","error","confirmMessage","window","confirm","changedPerson","find","changedNumber","updatedNumber","errorMessage","n","targetName","newPersons","targetObj","err","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fd9e337a.chunk.js","sourcesContent":["const Filter = ({ onChange }) => {\n  return (\n    <div>\n      filter: <input onChange={onChange} />\n    </div>\n  )\n}\n\nexport default Filter\n","const PersonForm = ({\n  addPerson,\n  newName,\n  newNumber,\n  handleNewName,\n  handleNewNumber,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNewName} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNewNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","const DeleteButton = ({ name, onClick }) => {\n  return (\n    <button id={name} onClick={onClick}>\n      Delete\n    </button>\n  )\n}\n\nexport default DeleteButton\n","import DeleteButton from './DeleteButton'\n\nconst Person = ({ person, onClick }) => (\n  <div>\n    <p>{person.name}</p>\n    <p>{person.number}</p>\n    <DeleteButton name={person.name} onClick={onClick} />\n  </div>\n)\n\nexport default Person\n","import Person from './Person'\n\nconst Persons = ({ personsToShow, onClick }) => {\n  return (\n    <div>\n      {personsToShow.map((person) => (\n        <Person key={person.name} person={person} onClick={onClick} />\n      ))}\n    </div>\n  )\n}\n\nexport default Persons\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then((response) => response.data)\n}\n\nconst deleteTarget = (id, deletedObject) => {\n  const request = axios.delete(`${baseUrl}/${id}`, deletedObject)\n  return request.then((response) => response.data)\n}\n\nconst numberService = { getAll, create, update, deleteTarget }\n\nexport default numberService\n","const Notification = ({ message }) => {\n  if (message) {\n    const messageContent = message[0]\n    const color = message[1]\n\n    const greenStyle = {\n      color: 'green',\n      border: '2px solid green',\n      padding: '8px',\n    }\n    const redStyle = {\n      color: 'red',\n      border: '2px solid red',\n      padding: '8px',\n    }\n\n    const whichStyle = color === 'green' ? greenStyle : redStyle\n\n    return <h1 style={whichStyle}>{messageContent}</h1>\n  } else {\n    return null\n  }\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport numberService from './numberService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [newNotification, setNewNotification] = useState(null)\n\n  const getPersons = () => {\n    numberService.getAll().then((response) => {\n      setPersons(response)\n    })\n  }\n\n  useEffect(getPersons, [])\n\n  const createNotification = (message, color) => {\n    setNewNotification([message, color])\n    setTimeout(() => {\n      setNewNotification(null)\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const isIncludePerson = persons.every((person) => person.name !== newName)\n\n    const clearFormData = () => {\n      setNewNumber('')\n      setNewName('')\n    }\n\n    const isNewName = newName === ''\n\n    if (!isNewName && isIncludePerson) {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      }\n\n      numberService\n        .create(newPerson)\n        .then((createdPerson) => {\n          createNotification(`Added ${newPerson.name}`, 'green')\n        })\n        .catch((error) => {\n          createNotification(`${error.response.data.error}`, 'red')\n        })\n      // set all persons\n      getPersons()\n\n      clearFormData()\n    } else if (isNewName) {\n      createNotification('Please enter a value', 'red')\n    } else {\n      const confirmMessage = `${newName} is already added to phonebook, replace the old number with the new one?`\n\n      if (window.confirm(confirmMessage)) {\n        const changedPerson = persons.find((person) => person.name === newName)\n        const changedNumber = { ...changedPerson, number: newNumber }\n\n        const id = changedNumber.id\n\n        numberService\n          .update(id, changedNumber)\n          .then((updatedNumber) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== id ? person : updatedNumber\n              )\n            )\n            clearFormData()\n            createNotification(`Updated ${changedPerson.name}`, 'green')\n          })\n          .catch((error) => {\n            const errorMessage = `${error.response.data.error}`\n            createNotification(errorMessage, 'red')\n            setPersons(persons.filter((n) => n.id !== id))\n          })\n      }\n    }\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleDeleteButton = (event) => {\n    const targetName = event.target.id\n\n    if (window.confirm(`Delete ${targetName}?`)) {\n      const newPersons = persons.filter((person) => person.name !== targetName)\n      setPersons(newPersons)\n\n      const targetObj = persons.find((person) =>\n        person.name === targetName ? person : ''\n      )\n\n      numberService.deleteTarget(targetObj.id, targetObj).catch((err) => {\n        createNotification(\n          `Information of ${targetName} has already been removed from server`,\n          'red'\n        )\n      })\n    }\n  }\n\n  const personsToShow =\n    newFilter === ''\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(newFilter.toLowerCase())\n        )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={newNotification} />\n      <Filter onChange={handleFilter} />\n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons personsToShow={personsToShow} onClick={handleDeleteButton} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}